<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sahabat Alam</title>
    <link rel="icon" href="../assets/SahabatAlam.png" type="image/png" />
    <link rel="stylesheet" href="../css/game-tunarungu.css" />
  </head>
  <body>
    <!-- Background Elements -->
    <div class="sky-objects">
      <div class="sun" id="sun"></div>
      <div class="moon" id="moon"></div>
      <div class="stars" id="stars"></div>
      <div class="cloud cloud-1"></div>
      <div class="cloud cloud-2"></div>
      <div class="cloud cloud-3"></div>
    </div>

    <!-- Game Overlay -->
    <div class="game-overlay" id="game-overlay"></div>

    <!-- Welcome Modal -->
    <div class="welcome-modal" id="welcome-modal">
      <span class="emoji">🌱🌳</span>
      <h1>Selamat Datang di Misi Pohon!</h1>
      <p>
        Di <b>Game Sahabat Alam</b>, kamu akan <b>menanam pohon</b>,
        <b>menyiram pohon</b>, dan
        <b>melindungi pohon dari hama</b>.<br /><br />
        Yuk mulai petualanganmu menjadi pahlawan lingkungan!
      </p>
      <div class="modal-buttons">
        <button id="show-howto-btn">
          Lihat Cara Main 📝
        </button>
        <button id="start-btn">Mulai Petualangan 🚀</button>
      </div>
    </div>

    <!-- Tutorial Modal -->
    <div class="howto-modal" id="howto-modal">
      <h2><span>🌱</span> Cara Bermain</h2>
      <div class="steps-container">
        <div class="howto-step">
          <div class="step-number">1</div>
          <div class="step-text">Klik pada tanah untuk menanam bibit pohon.</div>
        </div>
        <div class="howto-step">
          <div class="step-number">2</div>
          <div class="step-text">Gunakan alat penyiram jika pohon kering dan butuh air.</div>
        </div>
        <div class="howto-step">
          <div class="step-number">3</div>
          <div class="step-text">Gunakan alat pengusir hama jika ada serangga yang mendekat.</div>
        </div>
        <div class="howto-step">
          <div class="step-number">4</div>
          <div class="step-text">Rawat pohon agar tumbuh melalui semua 4 tahapan.</div>
        </div>
      </div>
      <div class="howto-tips">
        <b>Tips:</b> Perhatikan warna tanah! Jika tanah berwarna terang, segera siram agar pohon tidak kering. Pohon tumbuh lebih cepat di siang hari dengan sinar matahari.
      </div>
      <button id="close-howto-btn">Tutup</button>
    </div>

    <!-- Game Area -->
    <div class="game-area">
      <!-- Day/Night Indicator -->
      <div class="day-night-indicator day" id="day-night-indicator">
        <span id="day-night-icon">☀️</span> 
        <span id="day-night-text">Siang Hari</span>
      </div>

      <!-- Scoreboard -->
      <div class="scoreboard">
        <h1>🌱 Tanam & Jaga Pohon</h1>
        <div class="game-stats">
          <div class="game-stat">
            <div class="stat-icon">📊</div>
            <div>Level: <span class="stat-value" id="level-text">1</span></div>
          </div>
          <div class="game-stat">
            <div class="stat-icon">📅</div>
            <div>Hari: <span class="stat-value" id="day-count">1</span></div>
          </div>
          <div class="game-stat">
            <div class="stat-icon">⏱️</div>
            <div>Waktu: <span class="stat-value" id="timer">0</span> detik</div>
          </div>
          <div class="game-stat">
            <div class="stat-icon">❤️</div>
            <div>Kesehatan: <span class="stat-value" id="health">100</span>%</div>
          </div>
          <div class="health-bar-container">
            <div class="health-bar" id="health-bar" style="width: 100%;"></div>
          </div>
        </div>
      </div>

      <!-- Garden Container -->
      <div class="garden-container">
        <div class="ground-base"></div>
        <div class="soil-surface"></div>
        <div class="soil-decoration" style="left: 30%;"></div>
        <div class="soil-decoration" style="left: 45%;"></div>
        <div class="soil-decoration" style="left: 60%;"></div>
        <div class="soil-decoration" style="left: 75%;"></div>
        <div class="ground" id="ground"></div>
        <div class="planting-hole" id="planting-hole"></div>
        <div class="water-need-indicator" id="water-need-indicator">
          💧 Pohon Butuh Air!
        </div>
        <div class="tree-container">
          <img
            src="../assets/Sprite/pohon1.png"
            class="tree-stage stage-0"
            id="tree-stage-0"
            draggable="false"
            alt="Bibit Pohon"
          />
          <img
            src="../assets/Sprite/pohon3.png"
            class="tree-stage stage-1"
            id="tree-stage-1"
            draggable="false"
            alt="Pohon Kecil"
          />
          <img
            src="../assets/Sprite/pohon6.png"
            class="tree-stage stage-2"
            id="tree-stage-2"
            draggable="false"
            alt="Pohon Sedang"
          />
          <img
            src="../assets/Sprite/pohon8.png"
            class="tree-stage stage-3"
            id="tree-stage-3"
            draggable="false"
            alt="Pohon Besar"
          />
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="progress-container" id="progress-container">
        <div class="progress-label">
          <span class="progress-icon">🌱</span>
          <span id="progress-label">Pertumbuhan Pohon</span>
        </div>
        <div class="progress-bar-bg">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
      </div>

      <!-- Tools -->
      <div class="tool-container" id="tools">
        <div class="tool" id="water-tool" title="Siram Pohon">
          <img src="../assets/Sprite/water.png" alt="Siram" id="water-icon" />
          <div class="tool-label">Siram Pohon</div>
        </div>
        <div class="tool" id="bug-spray-tool" title="Usir Hama">
          <img
            src="../assets/Sprite/spray.png"
            alt="Usir Hama"
            id="spray-icon"
          />
          <div class="tool-label">Usir Hama</div>
        </div>
      </div>

      <!-- Info Text -->
      <div class="info-text" id="info-text">
        Klik tanah untuk menanam pohon. Jaga agar pohon tetap sehat!
      </div>

      <!-- Fact Popup -->
      <div class="fact-popup" id="fact-popup">
        <h3><span>💡</span> Tahukah Kamu?</h3>
        <p id="fact-text">
          Satu pohon besar dapat menghasilkan oksigen untuk 4 orang setiap hari!
        </p>
      </div>

      <!-- Stage Transition -->
      <div class="stage-transition" id="stage-transition">
        <div class="stage-message" id="stage-message">
          Pohon tumbuh ke tahap baru!
        </div>
      </div>

      <!-- Result Modal -->
      <div class="result-modal" id="result-modal">
        <h2 id="result-title"></h2>
        <p id="result-msg"></p>
        <div class="achievement" id="achievement">
          <h3><span>🏆</span> Pencapaian Baru!</h3>
          <p>Kamu mendapatkan lencana "Perawat Pohon Handal"</p>
        </div>
        <div class="result-buttons">
          <a id="result-next" href="tunarunguquest2.html">
            <img src="../assets/Sprite/pohon8.png" alt="Next" /> Lanjut Misi Berikutnya
          </a>
          <button id="result-retry">Coba Lagi</button>
        </div>
      </div>

      <!-- Plant Hint -->
      <div class="plant-hint" id="plant-hint">
        <div class="hint-box">
          <span>👇</span> Tap di sini untuk menanam pohon
          <div class="arrow-down"></div>
        </div>
      </div>
    </div>

    <script src="../js/game-tunarungu.js"></script>
  </body>
</html>